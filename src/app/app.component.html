<div class="container py-4">
  <header class="mb-4">
    <h1 class="text-center">Musescore Editor</h1>
  </header>

  <!-- Notas -->
  <div class="mb-4 text-center">
    <h5 class="mb-3">Notas</h5>
    <div class="d-flex flex-wrap justify-content-center gap-2">
      <button
        class="btn"
        *ngFor="let nota of notasDisponibles"
        [ngClass]="selectedNote === nota ? 'btn-primary' : 'btn-light border'"
        (click)="selectNote(nota)"
      >
        {{ nota }}
      </button>
    </div>
  </div>

  <!-- Figuras / Silencios -->
  <div class="mb-4 text-center">
    <div class="btn-group mb-3" role="group">
      <button
        type="button"
        class="btn"
        [ngClass]="showSilences ? 'btn-outline-dark' : 'btn-dark'"
        (click)="selectTab(false)"
      >
        Figuras
      </button>
      <button
        type="button"
        class="btn"
        [ngClass]="showSilences ? 'btn-dark' : 'btn-outline-dark'"
        (click)="selectTab(true)"
      >
        Silencios
      </button>
    </div>

    <div
      *ngIf="!showSilences"
      class="d-flex flex-wrap justify-content-center gap-2"
    >
      <button
        class="btn"
        *ngFor="let figura of figuras"
        [ngClass]="
          selectedFigure === figura ? 'btn-primary' : 'btn-light border'
        "
        data-bs-toggle="tooltip"
        [attr.title]="figura"
        (click)="selectFigure(figura)"
      >
        {{ figura }}
      </button>
    </div>

    <div
      *ngIf="showSilences"
      class="d-flex flex-wrap justify-content-center gap-2"
    >
      <button
        class="btn"
        *ngFor="let figura of figuras"
        [ngClass]="
          selectedFigure === figura + ' (silencio)'
            ? 'btn-primary'
            : 'btn-light border'
        "
        data-bs-toggle="tooltip"
        [attr.title]="'Silencio de ' + figura"
        (click)="selectFigure(figura + ' (silencio)')"
      >
        {{ figura }}
      </button>
    </div>
  </div>

  <!-- Puntillo -->
  <div class="text-center mb-3">
    <div class="form-check d-inline-block">
      <input
        class="form-check-input"
        type="checkbox"
        id="puntilloCheckbox"
        [(ngModel)]="puntillo"
      />
      <label class="form-check-label" for="puntilloCheckbox"> Puntillo </label>
    </div>
  </div>

  <!-- Alteraciones -->
  <div class="text-center mb-3">
    <h5 class="mb-2">Alteraciones</h5>
    <div class="d-flex justify-content-center gap-2">
      <button
        class="btn"
        [ngClass]="alteration === '♯' ? 'btn-primary' : 'btn-light border'"
        (click)="selectAlteration('♯')"
      >
        Sostenido
      </button>
      <button
        class="btn"
        [ngClass]="alteration === '♭' ? 'btn-primary' : 'btn-light border'"
        (click)="selectAlteration('♭')"
      >
        Bemol
      </button>
      <button
        class="btn"
        [ngClass]="alteration === '♮' ? 'btn-primary' : 'btn-light border'"
        (click)="selectAlteration('♮')"
      >
        Becuadro
      </button>
    </div>
  </div>

  <!-- Botones Agregar y Limpiar -->
  <div class="text-center mb-3 d-flex justify-content-center gap-3">
    <button
      class="btn btn-success"
      [disabled]="!canAddNote()"
      (click)="addNote()"
    >
      Agregar Nota
    </button>
    <button class="btn btn-danger" (click)="limpiarNotas()">Limpiar</button>
  </div>

  <!-- Caja de texto editable -->
  <div class="mb-4">
    <textarea class="form-control" rows="5" [(ngModel)]="textoNotas"></textarea>
  </div>
</div>
